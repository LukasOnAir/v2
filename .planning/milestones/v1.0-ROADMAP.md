# Milestone v1.0: MVP

**Status:** SHIPPED 2026-01-24
**Phases:** 1-20 (including decimal phases 13.1, 15.1)
**Total Plans:** 77

## Overview

RiskGuard ERM builds from foundational state architecture through dual taxonomy builders, then a feature-rich Risk Control Table with scoring and controls, culminating in the Risk-Process Matrix visualization for Holland Casino demo. Each phase delivers a demoable increment: scaffolding with dark theme, hierarchical taxonomy building, risk scoring workflows, and aggregated visualization.

## Phases

### Phase 1: Foundation
**Goal**: User can launch application with dark theme, navigate between views, and data persists across browser sessions
**Depends on**: Nothing (first phase)
**Plans**: 1 plan

- [x] 01-01-PLAN.md -- Project scaffolding, dark theme, navigation, and persistence

### Phase 2: Taxonomy Builders
**Goal**: User can build and manage hierarchical risk and process taxonomies with up to 5 levels
**Depends on**: Phase 1
**Plans**: 3 plans

- [x] 02-01-PLAN.md -- Core infrastructure: types, hierarchical ID utility, Zustand store with immer
- [x] 02-02-PLAN.md -- Tree UI components with react-arborist, tabs, toolbar, page integration
- [x] 02-03-PLAN.md -- Gap closure: fix scroll clipping and dark scrollbar styling

### Phase 3: Risk Control Table
**Goal**: User can assess and control risks for all risk-process combinations with Excel-like filtering
**Depends on**: Phase 2
**Plans**: 4 plans

- [x] 03-01-PLAN.md -- RCT types, store, row generation, table with virtualization
- [x] 03-02-PLAN.md -- Interactive scoring and control panel
- [x] 03-03-PLAN.md -- Column visibility, filtering, custom columns
- [x] 03-04-PLAN.md -- Gap closure: 14 UAT issues fixed

### Phase 4: Matrix and Polish
**Goal**: User can visualize risk posture in aggregated matrix and demo is ready for Holland Casino
**Depends on**: Phase 3
**Plans**: 6 plans

- [x] 04-01-PLAN.md -- Matrix visualization with scrollable grid, sticky headers, weighted aggregation
- [x] 04-02-PLAN.md -- Excel export (multi-sheet) and role-based access
- [x] 04-03-PLAN.md -- Gap closure: Excel export fixes
- [x] 04-04-PLAN.md -- Gap closure: RCT URL filter application from Matrix navigation
- [x] 04-05-PLAN.md -- Gap closure: Control Owner permission restrictions
- [x] 04-06-PLAN.md -- Additional polish

### Phase 5: Control Testing
**Goal**: User can schedule, document, and track control tests with effectiveness ratings
**Depends on**: Phase 4
**Plans**: 3 plans

- [x] 05-01-PLAN.md -- Types, store, and utility functions for control testing
- [x] 05-02-PLAN.md -- Testing UI components integrated into ControlPanel
- [x] 05-03-PLAN.md -- Human verification of complete testing workflow

### Phase 6: Risk Sunburst Visualization
**Goal**: User can visualize hierarchical net risk posture in an interactive sunburst chart
**Depends on**: Phase 5
**Plans**: 5 plans

- [x] 06-01-PLAN.md -- D3 dependencies, sunburstStore, useSunburstData hook
- [x] 06-02-PLAN.md -- SunburstChart with zoom, tooltip, breadcrumb navigation
- [x] 06-03-PLAN.md -- SunburstControls, SunburstLegend, export utilities
- [x] 06-04-PLAN.md -- SunburstPage and app integration
- [x] 06-05-PLAN.md -- Human verification

### Phase 7: Weights Configuration
**Goal**: User can configure aggregation weights per taxonomy level
**Depends on**: Phase 6
**Plans**: 4 plans

- [x] 07-01-PLAN.md -- Weight types and store state extension
- [x] 07-02-PLAN.md -- WeightBadge UI and TaxonomyNode integration
- [x] 07-03-PLAN.md -- Update Sunburst and Matrix to use taxonomyStore weights
- [x] 07-04-PLAN.md -- Human verification

### Phase 8: Remediation & Issue Tracking
**Goal**: User can create and track remediation plans for control deficiencies
**Depends on**: Phase 5
**Plans**: 4 plans

- [x] 08-01-PLAN.md -- Remediation types and rctStore extension
- [x] 08-02-PLAN.md -- RemediationSection and RemediationForm in ControlPanel
- [x] 08-03-PLAN.md -- Remediation dashboard page with summary and widgets
- [x] 08-04-PLAN.md -- Human verification

### Phase 9: Audit Trail & Version Control
**Goal**: User can view complete change history showing who changed what and when
**Depends on**: Phase 5
**Plans**: 4 plans

- [x] 09-01-PLAN.md -- Audit types and store infrastructure
- [x] 09-02-PLAN.md -- Audit middleware integration
- [x] 09-03-PLAN.md -- Audit UI components and AuditPage
- [x] 09-04-PLAN.md -- Human verification

### Phase 10: Analytics & Reporting
**Goal**: User can analyze risk trends over time and get sampling guidance
**Depends on**: Phase 9
**Plans**: 4 plans

- [x] 10-01-PLAN.md -- Analytics infrastructure: Recharts, sampling calculator, data hooks
- [x] 10-02-PLAN.md -- Trend charts for control tests and risk score history
- [x] 10-03-PLAN.md -- Sampling calculator UI and aggregation report
- [x] 10-04-PLAN.md -- Analytics page integration and human verification

### Phase 11: Collaboration & Comments
**Goal**: Users can add comments to controls and access a knowledge base
**Depends on**: Phase 5
**Plans**: 4 plans

- [x] 11-01-PLAN.md -- Types, store, and Fuse.js dependency
- [x] 11-02-PLAN.md -- Comment UI components integrated into ControlPanel
- [x] 11-03-PLAN.md -- Knowledge base page with search and category filtering
- [x] 11-04-PLAN.md -- Human verification

### Phase 12: Formula Bug Fix
**Goal**: Fix custom column formula engine to properly handle IF function false clause
**Depends on**: Phase 3
**Plans**: 2 plans

- [x] 12-01-PLAN.md -- Add normalizeQuotes function and fix formula engine
- [x] 12-02-PLAN.md -- Human verification

### Phase 13: Controls Hub
**Goal**: User can view all controls in a central page with multi-risk linking
**Depends on**: Phase 12
**Plans**: 4 plans

- [x] 13-01-PLAN.md -- ControlLink type and controlsStore infrastructure
- [x] 13-02-PLAN.md -- Migration utility and rctStore integration
- [x] 13-03-PLAN.md -- ControlsPage UI with table, filters, and detail panel
- [x] 13-04-PLAN.md -- Human verification

### Phase 13.1: Controls Hub Enhancements (INSERTED)
**Goal**: Improve Controls Hub UX and add per-link score editing
**Depends on**: Phase 13
**Plans**: 2 plans executed

- [x] 13.1-01-PLAN.md -- Link Existing Control dialog and multi-link badge
- [x] 13.1-02-PLAN.md -- Per-link score editing and expand indicator

### Phase 14: Delta Scores
**Goal**: User can toggle Sunburst chart between multiple view modes
**Depends on**: Phase 6
**Plans**: 3 plans

- [x] 14-01-PLAN.md -- Core delta calculation infrastructure
- [x] 14-02-PLAN.md -- UI updates (controls, chart, legend, tooltip)
- [x] 14-03-PLAN.md -- Human verification

### Phase 15: Control Tickets
**Goal**: User can create and manage tickets with Kanban board
**Depends on**: Phase 8
**Plans**: 4 plans

- [x] 15-01-PLAN.md -- Ticket types and ticketsStore infrastructure
- [x] 15-02-PLAN.md -- Kanban board UI with drag-and-drop
- [x] 15-03-PLAN.md -- Control integration
- [x] 15-04-PLAN.md -- Dashboard page and human verification

### Phase 15.1: Ticket Linked Items Fix (INSERTED)
**Goal**: Fix linked items persistence bug and add "Other" option
**Depends on**: Phase 15
**Plans**: 2 plans

- [x] 15.1-01-PLAN.md -- Fix linked items persistence bug
- [x] 15.1-02-PLAN.md -- Add "Other" option for custom linked items

### Phase 16: Four-Eye Approval
**Goal**: Implement approval workflow where control changes require manager sign-off
**Depends on**: Phase 4
**Plans**: 9 plans

- [x] 16-01-PLAN.md -- Types, store, and Manager role infrastructure
- [x] 16-02-PLAN.md -- Control integration with approval-aware updates
- [x] 16-03-PLAN.md -- Taxonomy integration
- [x] 16-04-PLAN.md -- Approval queue page with bulk actions
- [x] 16-05-PLAN.md -- Notifications and RCT restrictions
- [x] 16-06-PLAN.md -- Gap closure: approval routing fixes
- [x] 16-07-PLAN.md -- Gap closure: pending value display improvements
- [x] 16-08-PLAN.md -- Gap closure: per-link score approval
- [x] 16-09-PLAN.md -- Gap closure: draft state and send for approval

### Phase 18: Login Page
**Goal**: Eye-catching login interface with smooth animations for demo
**Depends on**: Phase 17
**Plans**: 2 plans

- [x] 18-01-PLAN.md -- Auth infrastructure, Motion install, ProtectedRoute
- [x] 18-02-PLAN.md -- Animated LoginPage with form effects

### Phase 19: Mock Data Loader
**Goal**: Provide a header button to load comprehensive mock data
**Depends on**: Phase 18
**Plans**: 2 plans

- [x] 19-01-PLAN.md -- Mock data generator module
- [x] 19-02-PLAN.md -- Header button and confirmation dialog

### Phase 20: Control Tester Interface
**Goal**: Dedicated interface for first-line control testers
**Depends on**: Phase 19
**Plans**: 3 plans

- [x] 20-01-PLAN.md -- Core infrastructure: AppRole extension, permissions
- [x] 20-02-PLAN.md -- TesterLayout, TesterDashboardPage, TesterControlCard
- [x] 20-03-PLAN.md -- Mock data tester assignments, ControlDetailPanel UI

---

## Milestone Summary

**Decimal Phases:**
- Phase 13.1: Controls Hub Enhancements (inserted for UX improvements)
- Phase 15.1: Ticket Linked Items Fix (inserted for bug fix + enhancement)

**Key Decisions:**
- Used @tailwindcss/vite plugin for Tailwind v4 zero-config integration
- Implemented class-based dark mode with @custom-variant for dark-first app
- Used immer middleware wrapper around persist for nested immutable updates
- TanStack Table + Virtual with absolute positioning for virtualization
- D3 hierarchy eachAfter for bottom-up score aggregation in sunburst
- Zustand persist with partialize to exclude transient state
- Role-based permissions via usePermissions hook reading from uiStore
- Manager role inherits all Risk Manager permissions via role hierarchy
- Motion (framer-motion) for login page animations
- Sidebar auto-expands on hover when collapsed

**Issues Resolved:**
- Formula engine IF function false clause not evaluating
- Ticket linked items not persisting correctly
- Four-eye approval gaps (9 gap closures in Phase 16)
- Scroll clipping in taxonomy builders
- RCT URL filter application from Matrix navigation

**Technical Debt:**
- Phase 17 (Key Risk Classification) not implemented - deferred
- Phase 13.1 Plan 03 (verification) not executed

---

*For current project status, see .planning/MILESTONES.md*
*Archived: 2026-01-24*
