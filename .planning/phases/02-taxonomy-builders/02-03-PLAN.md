---
phase: 02-taxonomy-builders
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/TaxonomyPage.tsx
  - src/index.css
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Last item in taxonomy tree is fully visible when scrolling"
    - "Scrollbar matches dark theme aesthetic"
  artifacts:
    - path: "src/pages/TaxonomyPage.tsx"
      provides: "Tree container without bottom padding clipping"
      contains: "pt-4 px-4"
    - path: "src/index.css"
      provides: "Dark scrollbar styles"
      contains: "scrollbar"
  key_links:
    - from: "src/index.css"
      to: "all scrollable elements"
      via: "CSS scrollbar pseudo-elements"
      pattern: "::-webkit-scrollbar"
---

<objective>
Fix taxonomy tree scroll visibility and scrollbar styling issues identified in UAT.

Purpose: Close UAT gap where last item is clipped and white scrollbar doesn't fit dark theme
Output: Fully visible tree items with dark-themed scrollbar
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/02-taxonomy-builders/02-UAT.md
@src/pages/TaxonomyPage.tsx
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix tree container padding and add dark scrollbar styles</name>
  <files>src/pages/TaxonomyPage.tsx, src/index.css</files>
  <action>
1. In TaxonomyPage.tsx line 88, change `p-4` to `pt-4 px-4` to remove bottom padding that clips the last virtualized row. The tree needs breathing room at top and sides but NOT at bottom where it interferes with scroll visibility.

2. In src/index.css, add dark scrollbar styles within the @layer base block. Add styles for:
   - ::-webkit-scrollbar (width: 8px for vertical, height: 8px for horizontal)
   - ::-webkit-scrollbar-track (bg-surface-base or #0a0a0a)
   - ::-webkit-scrollbar-thumb (bg-surface-border or #27272a, rounded)
   - ::-webkit-scrollbar-thumb:hover (slightly lighter, #3f3f46)
   - Also add Firefox scrollbar-color and scrollbar-width properties on html element

Use the existing theme colors from @theme block for consistency.
  </action>
  <verify>
1. Run `npm run dev` and navigate to Taxonomy page
2. Add 10+ root items to overflow the container
3. Scroll to bottom - last item should be fully visible including its description
4. Scrollbar should appear dark/muted matching the app theme
  </verify>
  <done>
- Last taxonomy item fully readable when scrolled into view
- Scrollbar has dark track and thumb matching app color scheme
- No visual clipping of content at bottom of tree
  </done>
</task>

</tasks>

<verification>
Manual verification:
1. Create enough items to trigger scrollbar
2. Scroll to last item - description fully visible
3. Scrollbar color matches dark theme (not white/light)
</verification>

<success_criteria>
- UAT Test 1 issue resolved: last item readable, scrollbar dark
- No regression in tree functionality (drag, edit, expand still work)
</success_criteria>

<output>
After completion, create `.planning/phases/02-taxonomy-builders/02-03-SUMMARY.md`
</output>
