---
phase: 06-risk-sunburst-visualization
plan: 05
type: execute
wave: 4
depends_on: ["06-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Sunburst displays correctly with sample taxonomy data"
    - "All success criteria from roadmap verified"
  artifacts: []
  key_links: []
---

<objective>
Human verification of the complete sunburst visualization feature.

Purpose: Verify that all success criteria from the roadmap are met and the feature works correctly with real data.

Output: Confirmation that Phase 6 is complete
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-risk-sunburst-visualization/06-CONTEXT.md
@.planning/phases/06-risk-sunburst-visualization/06-04-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Risk Sunburst Visualization feature including:
- Interactive sunburst chart with D3.js
- Zoom-to-center interaction with breadcrumb navigation
- Controls for taxonomy type, score type, aggregation mode
- Level visibility toggles (L1-L5)
- Color-coded segments using heatmap colors
- Hover tooltips and right-click context menu
- PNG and SVG export with title, legend, and filters
- New navigation item in sidebar
  </what-built>
  <how-to-verify>
1. **Start the development server:**
   ```bash
   npm run dev
   ```

2. **Verify navigation:**
   - [ ] Sunburst appears in sidebar with PieChart icon
   - [ ] Clicking Sunburst navigates to /sunburst

3. **Verify chart display (needs taxonomy + RCT data):**
   - [ ] Center shows "Enterprise Risk" or "Enterprise Process" label with overall score
   - [ ] L1 ring surrounds the center
   - [ ] Additional rings (L2-L5) appear based on taxonomy depth
   - [ ] Segments are colored green-yellow-orange-red based on score
   - [ ] Segments with no data appear gray (or hidden if toggle is on)

4. **Verify controls:**
   - [ ] Risk/Process toggle switches taxonomy view
   - [ ] Gross/Net toggle changes score source
   - [ ] Weighted/Max toggle changes aggregation method
   - [ ] L1-L5 checkboxes show/hide levels
   - [ ] "Hide empty" checkbox hides no-data segments

5. **Verify interactions:**
   - [ ] Hovering shows tooltip with name and score
   - [ ] Clicking a segment zooms in (segment becomes center)
   - [ ] Breadcrumb updates to show path (e.g., All > 1 Operational > 1.2 IT)
   - [ ] Clicking breadcrumb item navigates to that level
   - [ ] Clicking center circle zooms out
   - [ ] Right-click shows "View in RCT" option
   - [ ] "View in RCT" navigates to RCT with filter

6. **Verify export:**
   - [ ] PNG export downloads image with chart, title, legend
   - [ ] SVG export downloads vector file with chart, title, legend
   - [ ] Exports include current filter settings

7. **Verify roadmap success criteria:**
   - [ ] Sunburst chart displays with core (overall) surrounded by L1-L5 rings
   - [ ] Core shows weighted average of all L1 net risk scores
   - [ ] Each segment shows weighted average of its children's net risk scores
   - [ ] Color scheme matches RCT/Matrix heatmap (green-yellow-orange-red, 1-25)
   - [ ] User can toggle visibility of each level (L1-L5)
   - [ ] Segments display hierarchical IDs; zoom reveals full names
   - [ ] Clicking a segment drills down or filters to that risk branch

**Note:** If no taxonomy data exists, create some sample data in the Taxonomy page first.
  </how-to-verify>
  <resume-signal>Type "approved" to confirm Phase 6 is complete, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Human confirms all success criteria are met.
</verification>

<success_criteria>
All 7 roadmap success criteria verified working:
1. Sunburst displays with core surrounded by L1-L5 rings
2. Core shows weighted average of L1 scores
3. Segments show weighted average of children
4. Colors match heatmap scheme
5. Level toggles work
6. Hierarchical IDs shown, names on zoom
7. Click drills down to risk branch
</success_criteria>

<output>
After completion, create `.planning/phases/06-risk-sunburst-visualization/06-05-SUMMARY.md`
</output>
