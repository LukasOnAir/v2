---
phase: 24-demo-seeders-deployment
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - supabase/functions/seed-demo-data/presets/types.ts
  - supabase/functions/seed-demo-data/presets/empty.ts
  - supabase/functions/seed-demo-data/presets/casino.ts
  - supabase/functions/seed-demo-data/presets/bank.ts
  - supabase/functions/seed-demo-data/presets/insurer.ts
  - supabase/functions/seed-demo-data/presets/generic.ts
autonomous: true

must_haves:
  truths:
    - "Each preset exports risk taxonomy, process taxonomy, and sample controls"
    - "Casino preset contains Holland Casino themed data (gaming, AML, compliance)"
    - "Bank preset contains financial services themed data (credit, market, operational)"
    - "Insurer preset contains insurance themed data (underwriting, claims, investments)"
    - "Generic preset contains general ERM sample data"
    - "Empty preset returns empty arrays (no-op)"
  artifacts:
    - path: "supabase/functions/seed-demo-data/presets/types.ts"
      provides: "Type definitions for preset data structures"
      exports: ["PresetData", "SeedTaxonomyItem", "SeedControl"]
    - path: "supabase/functions/seed-demo-data/presets/casino.ts"
      provides: "Holland Casino themed demo data"
      exports: ["casinoPreset"]
    - path: "supabase/functions/seed-demo-data/presets/bank.ts"
      provides: "Banking/financial demo data"
      exports: ["bankPreset"]
    - path: "supabase/functions/seed-demo-data/presets/insurer.ts"
      provides: "Insurance demo data"
      exports: ["insurerPreset"]
    - path: "supabase/functions/seed-demo-data/presets/generic.ts"
      provides: "General ERM demo data"
      exports: ["genericPreset"]
    - path: "supabase/functions/seed-demo-data/presets/empty.ts"
      provides: "Empty preset (no data)"
      exports: ["emptyPreset"]
  key_links:
    - from: "presets/*.ts"
      to: "types.ts"
      via: "import type"
      pattern: "import.*PresetData.*from.*types"
---

<objective>
Create demo preset data modules for 5 tenant initialization options.

Purpose: Enable sales demos with industry-specific pre-populated data. Each preset provides a complete set of risk taxonomies, process taxonomies, and sample controls that showcase the application's capabilities.

Output: 6 TypeScript files in `supabase/functions/seed-demo-data/presets/` containing typed data structures ready for database insertion.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/24-demo-seeders-deployment/24-RESEARCH.md

# Existing types to match
@src/types/taxonomy.ts
@src/types/rct.ts

# Research contains domain knowledge for each preset
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create preset type definitions</name>
  <files>supabase/functions/seed-demo-data/presets/types.ts</files>
  <action>
Create type definitions for preset data structures. These types are used by all preset modules.

Types to define:
1. `SeedTaxonomyItem` - Simplified taxonomy item for seeding (name, description, children). Do NOT include id or hierarchicalId - those are generated at insert time.
2. `SeedControl` - Control template (name, description, controlType, testFrequency, testProcedure). Do NOT include ids, dates, or scores - those are set at insert time.
3. `PresetData` - Container with:
   - `risks: SeedTaxonomyItem[]` - Risk taxonomy tree
   - `processes: SeedTaxonomyItem[]` - Process taxonomy tree
   - `controls: SeedControl[]` - Sample controls
   - `rctPairings: Array<{ riskPath: string[], processPath: string[] }>` - Curated risk-process pairings (use taxonomy names as path)

Use Deno-compatible syntax (no relative imports with .ts extension workarounds).
  </action>
  <verify>
File exists and exports PresetData, SeedTaxonomyItem, SeedControl types.
Check syntax: `deno check supabase/functions/seed-demo-data/presets/types.ts` (or verify no red squiggles in IDE)
  </verify>
  <done>Type definitions exist and are importable by preset modules</done>
</task>

<task type="auto">
  <name>Task 2: Create all preset data modules</name>
  <files>
supabase/functions/seed-demo-data/presets/empty.ts
supabase/functions/seed-demo-data/presets/casino.ts
supabase/functions/seed-demo-data/presets/bank.ts
supabase/functions/seed-demo-data/presets/insurer.ts
supabase/functions/seed-demo-data/presets/generic.ts
  </files>
  <action>
Create 5 preset data modules, each exporting a `PresetData` object.

**empty.ts:**
- Export `emptyPreset: PresetData` with empty arrays for all fields

**casino.ts (Holland Casino themed):**
Based on 24-RESEARCH.md domain knowledge, create:
- Risk taxonomy (3 levels deep, 15-20 leaf nodes):
  - Operational Risk > Gaming Operations (Table Game Integrity, Slot Machine Malfunction, Cash Handling), Security (Theft/Fraud, Surveillance Gaps)
  - Compliance Risk > AML/KYC (CTR Filing, SAR Filing, Customer Due Diligence), Gaming License (Reporting, Employee Licensing)
  - Financial Risk > Cash Management, Currency Exchange, Credit Risk
- Process taxonomy (2-3 levels, 10-15 leaf nodes):
  - Gaming Floor (Table Games, Slot Operations, Cage Operations)
  - Customer Services (VIP, Loyalty, Complaints)
  - Back Office (Finance, HR, IT)
  - Compliance (AML Monitoring, Reporting, Audits)
- 10-15 sample controls (mix of Preventative, Detective, Corrective):
  - "Dual Verification for High-Value Payouts"
  - "24-Hour Surveillance Coverage"
  - "Daily CTR Filing Review"
  - etc.
- 15-20 curated rctPairings linking risks to relevant processes

**bank.ts (Banking/Financial):**
- Risk taxonomy: Credit Risk, Market Risk, Operational Risk, Compliance Risk, Liquidity Risk (each with 2-3 children)
- Process taxonomy: Lending, Trading, Operations, Compliance, Treasury
- 10-15 sample controls appropriate for banking
- 15-20 curated rctPairings

**insurer.ts (Insurance):**
- Risk taxonomy: Underwriting Risk, Investment Risk, Operational Risk, Compliance Risk, Strategic Risk
- Process taxonomy: Underwriting, Claims, Investments, Operations, Compliance
- 10-15 sample controls appropriate for insurance
- 15-20 curated rctPairings

**generic.ts (General ERM):**
- Risk taxonomy: Strategic, Operational, Financial, Compliance, Reputational (standard ERM categories)
- Process taxonomy: Core Operations, Support Functions, Management, Compliance
- 10-15 generic controls
- 15-20 curated rctPairings

Each file should import types from './types.ts' and export a named constant matching the pattern `{name}Preset: PresetData`.
  </action>
  <verify>
All 5 files exist and export valid PresetData objects:
- `ls supabase/functions/seed-demo-data/presets/`
- Check each file has: risks array, processes array, controls array, rctPairings array
- Verify no empty arrays except for empty.ts
  </verify>
  <done>5 preset modules exist with industry-specific demo data</done>
</task>

</tasks>

<verification>
After both tasks complete:

1. Directory structure exists:
   ```
   supabase/functions/seed-demo-data/presets/
     types.ts
     empty.ts
     casino.ts
     bank.ts
     insurer.ts
     generic.ts
   ```

2. Each preset has meaningful data:
   - Casino: Gaming, AML/KYC, surveillance themes
   - Bank: Credit, market, liquidity themes
   - Insurer: Underwriting, claims, investment themes
   - Generic: Standard ERM categories
   - Empty: All arrays empty

3. All files use consistent type imports
</verification>

<success_criteria>
- 6 TypeScript files created in presets/ directory
- Types defined and exported from types.ts
- Each industry preset contains 15+ risk taxonomy items, 10+ process taxonomy items, 10+ controls
- Empty preset returns empty arrays
- No TypeScript errors in preset files
</success_criteria>

<output>
After completion, create `.planning/phases/24-demo-seeders-deployment/24-01-SUMMARY.md`
</output>
