---
phase: 24-demo-seeders-deployment
plan: 05
type: execute
wave: 3
depends_on: ["24-01", "24-02", "24-03", "24-04"]
files_modified:
  - .env.example
autonomous: false

user_setup:
  - service: vercel
    why: "Application deployment"
    env_vars:
      - name: VITE_SUPABASE_URL
        source: "Supabase Dashboard > Settings > API > Project URL"
      - name: VITE_SUPABASE_ANON_KEY
        source: "Supabase Dashboard > Settings > API > anon public key"
    dashboard_config:
      - task: "Import Git repository"
        location: "Vercel Dashboard > Add New > Project > Import"
      - task: "Configure environment variables"
        location: "Vercel Dashboard > Project > Settings > Environment Variables"

must_haves:
  truths:
    - "Application is accessible at Vercel production URL"
    - "All routes work (SPA routing via rewrites)"
    - "Supabase connection works (auth, Edge Functions)"
    - "Mobile viewport renders correctly on deployed site"
    - "Environment variables are securely configured"
  artifacts:
    - path: ".env.example"
      provides: "Template for required environment variables"
      contains: "VITE_SUPABASE_URL"
  key_links:
    - from: "vercel.json"
      to: "Vercel deployment"
      via: "build configuration"
      pattern: "buildCommand|outputDirectory|rewrites"
---

<objective>
Deploy application to Vercel and verify production deployment.

Purpose: Make the application accessible on the internet for sales demos and client access. Vercel provides zero-config deployment for Vite applications with automatic HTTPS and global CDN.

Output: Live production deployment at Vercel URL with proper environment configuration.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/24-demo-seeders-deployment/24-RESEARCH.md
@.planning/phases/24-demo-seeders-deployment/24-02-SUMMARY.md
@.planning/phases/24-demo-seeders-deployment/24-04-SUMMARY.md

# Existing deployment config
# vercel.json already exists with rewrites and cron
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create .env.example and verify deployment readiness</name>
  <files>.env.example</files>
  <action>
Create .env.example file documenting required environment variables for deployment.

```bash
# .env.example
# Copy this file to .env.local for local development
# For Vercel deployment, add these in Project Settings > Environment Variables

# Supabase Configuration (Required)
# Get from: Supabase Dashboard > Settings > API
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Note: VITE_ prefix is required for Vite to expose to client bundle
# Do NOT add service role key here - it should only be in Edge Function environment
```

Verify deployment readiness:

1. Confirm vercel.json exists with correct settings:
   - `buildCommand`: "npm run build"
   - `outputDirectory`: "dist"
   - `rewrites`: [{ "source": "/(.*)", "destination": "/index.html" }]

2. Confirm build works locally:
   ```bash
   npm run build
   ```
   Should complete without errors.

3. Check for any hardcoded localhost URLs that would break in production.

4. Ensure .gitignore includes `.env.local` but NOT `.env.example`.
  </action>
  <verify>
1. `.env.example` exists with documented variables
2. `npm run build` succeeds
3. `dist/` folder created with index.html
4. No TypeScript errors in build output
  </verify>
  <done>.env.example created and build verified</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Vercel deployment pipeline. The application is ready to deploy.
  </what-built>
  <how-to-verify>
**Deploy to Vercel:**

1. Go to https://vercel.com/new
2. Import your Git repository
3. Configure environment variables:
   - `VITE_SUPABASE_URL` = your Supabase project URL
   - `VITE_SUPABASE_ANON_KEY` = your Supabase anon key
4. Click Deploy

**After deployment, verify:**

1. **Production URL loads:**
   - Visit https://your-project.vercel.app
   - Should see login page (not 404 or error)

2. **SPA routing works:**
   - Navigate to /login, /signup, /dashboard
   - Refresh page on /dashboard
   - Should NOT get 404 (rewrites working)

3. **Auth works:**
   - Try to log in with test account
   - Or create new account via signup
   - Verify email verification flow

4. **Mobile responsive:**
   - Open on mobile device or Chrome DevTools mobile view
   - Navigate to Tester Dashboard
   - Verify cards display correctly, no horizontal scroll

5. **Edge Functions work:**
   - Test invite flow (if you have Director account)
   - Or verify Edge Function URLs resolve

**Report any issues found.**
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
After checkpoint approval:

1. Production URL is live and accessible
2. All major routes work without 404
3. Authentication flows complete successfully
4. Mobile responsiveness verified on deployed site
5. Edge Functions callable from production frontend
</verification>

<success_criteria>
- .env.example documents all required environment variables
- Application builds successfully
- Vercel deployment live and accessible
- SPA routing works (refresh on any route doesn't 404)
- Auth and Edge Functions work in production
- Mobile responsive verified on production deployment
- DEPLOY-01 and DEPLOY-02 requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/24-demo-seeders-deployment/24-05-SUMMARY.md`
</output>
