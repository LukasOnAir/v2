---
phase: 25-production-hardening
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/main.tsx
autonomous: false

must_haves:
  truths:
    - "Vercel Analytics tracks page views and visitor metrics"
    - "Vercel Speed Insights tracks Core Web Vitals (LCP, FID, CLS)"
    - "UptimeRobot monitors application uptime with 5-minute checks"
    - "Team receives alerts via email or Slack when app is down"
  artifacts:
    - path: "src/main.tsx"
      provides: "Analytics and SpeedInsights component integration"
      contains: "Analytics"
    - path: "package.json"
      provides: "Vercel analytics dependencies"
      contains: "@vercel/analytics"
  key_links:
    - from: "src/main.tsx"
      to: "@vercel/analytics"
      via: "import and render"
      pattern: "import.*Analytics.*from.*@vercel/analytics"
    - from: "src/main.tsx"
      to: "@vercel/speed-insights"
      via: "import and render"
      pattern: "import.*SpeedInsights.*from.*@vercel/speed-insights"

user_setup:
  - service: UptimeRobot
    why: "Free uptime monitoring with alerting"
    account_setup:
      - "Create free account at https://uptimerobot.com/signUp"
    dashboard_config:
      - task: "Create HTTP(s) monitor"
        location: "UptimeRobot Dashboard -> Add New Monitor"
        settings:
          - "Monitor Type: HTTP(s)"
          - "Friendly Name: RiskLytix Production"
          - "URL: https://your-app.vercel.app"
          - "Monitoring Interval: 5 minutes"
      - task: "Configure alert contacts"
        location: "UptimeRobot Dashboard -> Alert Contacts"
        settings:
          - "Add email contact for team notifications"
          - "Optional: Add Slack webhook for channel alerts"
---

<objective>
Set up monitoring dashboard and alerting for production observability.

Purpose: Track application health, response times, and error rates with automatic alerts when issues occur.
Output: Vercel Analytics/Speed Insights integration and UptimeRobot monitoring configuration.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/25-production-hardening/25-RESEARCH.md
@src/main.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install and integrate Vercel Analytics and Speed Insights</name>
  <files>
    - package.json
    - src/main.tsx
  </files>
  <action>
    1. Install Vercel observability packages:
       ```bash
       npm install @vercel/analytics @vercel/speed-insights
       ```

    2. Update src/main.tsx to add Analytics and SpeedInsights components:
       ```typescript
       import { StrictMode } from 'react'
       import { createRoot } from 'react-dom/client'
       import { Analytics } from '@vercel/analytics/react'
       import { SpeedInsights } from '@vercel/speed-insights/react'
       import './index.css'
       import App from './App'

       createRoot(document.getElementById('root')!).render(
         <StrictMode>
           <App />
           <Analytics />
           <SpeedInsights />
         </StrictMode>,
       )
       ```

    Note: Analytics only sends data in production deployments to Vercel. In development, no data is sent (this is expected behavior).

    The Vercel dashboard at https://vercel.com/[team]/[project]/analytics will automatically show:
    - Page views and unique visitors
    - Top pages and referrers
    - Core Web Vitals (LCP, FID, CLS) via Speed Insights
    - Geographic distribution
  </action>
  <verify>
    - `npm ls @vercel/analytics` shows installed
    - `npm ls @vercel/speed-insights` shows installed
    - `npm run build` succeeds
    - src/main.tsx imports Analytics and SpeedInsights
    - src/main.tsx renders <Analytics /> and <SpeedInsights /> components
  </verify>
  <done>
    Vercel Analytics and Speed Insights integrated into main.tsx, ready to track production metrics.
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Configure UptimeRobot monitoring</name>
  <what-to-do>
    Configure UptimeRobot for uptime monitoring and alerting. This requires manual setup as UptimeRobot doesn't have a CLI.

    Steps:
    1. Go to https://uptimerobot.com/signUp and create a free account (if you don't have one)

    2. Add a new monitor:
       - Click "Add New Monitor"
       - Monitor Type: HTTP(s)
       - Friendly Name: RiskLytix Production
       - URL: https://your-production-url.vercel.app (your actual Vercel URL)
       - Monitoring Interval: 5 minutes (free tier)

    3. Configure alert contacts:
       - Go to "My Settings" -> "Alert Contacts"
       - Add your email address
       - Optional: Add Slack webhook URL for team channel alerts

    4. Verify monitor is working:
       - Wait 5 minutes for first check
       - Dashboard should show "Up" status

    Free tier includes:
    - 50 monitors
    - 5-minute check intervals
    - Email/Slack/webhook alerts
    - Public status page (optional)
  </what-to-do>
  <resume-signal>Type "done" when UptimeRobot monitor is configured, or "skip" to skip this step</resume-signal>
</task>

</tasks>

<verification>
After both tasks:
1. `npm run build` succeeds
2. `npm run dev` starts without errors
3. Analytics/SpeedInsights components render in main.tsx
4. After deploying to Vercel:
   - Vercel Analytics dashboard shows data (may take a few hours for first data)
   - UptimeRobot shows monitor as "Up"
5. Test alert (optional): UptimeRobot has "Test Alert" feature to verify notification delivery
</verification>

<success_criteria>
- @vercel/analytics and @vercel/speed-insights installed
- main.tsx renders Analytics and SpeedInsights components
- UptimeRobot monitor configured for production URL
- Alert contact configured (email at minimum)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/25-production-hardening/25-03-SUMMARY.md`
</output>
